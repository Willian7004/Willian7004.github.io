<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文本编辑器的核心数据结构</title>
    <script src="../../libs/tailwindcss.js"></script>
    <link rel="stylesheet" href="../../libs/fontawesome/css/all.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #1e1e1e;
            color: #e6e6e6;
            font-family: 'Consolas', 'Monaco', monospace;
        }
        .slide {
            width: 1280px;
            min-height: 720px;
            overflow: hidden;
            position: relative;
            background: linear-gradient(135deg, #1e1e1e 0%, #2d2d2d 100%);
        }
        .highlight {
            color: #569cd6;
        }
        .highlight-green {
            color: #4ec9b0;
        }
        .highlight-yellow {
            color: #dcdcaa;
        }
        .highlight-red {
            color: #ce9178;
        }
        .highlight-purple {
            color: #c586c0;
        }
        .data-structure {
            background-color: #252526;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        .data-structure:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }
        .code-block {
            background-color: #252526;
            border-radius: 6px;
            padding: 0.75rem;
            font-size: 0.85rem;
            line-height: 1.5;
            border-left: 4px solid #569cd6;
        }
        .structure-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        .performance-bar {
            height: 8px;
            border-radius: 4px;
            background-color: #3a3a3a;
            margin-top: 4px;
            overflow: hidden;
        }
        .performance-fill {
            height: 100%;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="slide flex flex-col">
        <!-- Header with subtle gradient -->
        <div class="h-2 w-full bg-gradient-to-r from-blue-500 via-purple-500 to-green-500"></div>
        
        <!-- Main Content -->
        <div class="flex flex-col justify-start items-center flex-grow p-8">
            <h1 class="text-4xl font-bold mb-6 text-center">
                <span class="highlight">文本编辑器</span>的核心数据结构
            </h1>
            
            <div class="grid grid-cols-2 gap-8 w-full">
                <!-- Left Column: Basic Sequence Data Structures -->
                <div class="flex flex-col space-y-6">
                    <h2 class="text-2xl font-bold mb-2 highlight flex items-center">
                        <i class="fas fa-database mr-3"></i>基本序列数据结构
                        <span class="text-sm font-normal ml-3 opacity-70">Basic Sequence Data Structures</span>
                    </h2>
                    
                    <div class="data-structure p-5 border-l-4 border-red-500">
                        <div class="flex items-center">
                            <i class="fas fa-link structure-icon highlight-red"></i>
                            <div class="ml-4">
                                <h3 class="text-xl font-bold highlight-red">LinkedList (链表)</h3>
                                <p class="text-sm opacity-80 mb-2">每个字符作为一个节点，通过指针连接</p>
                                <div class="flex items-center text-sm">
                                    <span class="mr-2">性能:</span>
                                    <div class="performance-bar flex-grow">
                                        <div class="performance-fill bg-red-500" style="width: 30%"></div>
                                    </div>
                                    <span class="ml-2 text-red-400">低</span>
                                </div>
                                <p class="text-xs mt-2 opacity-70"><i class="fas fa-times-circle mr-1"></i>内存占用大，不适合大文本</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="data-structure p-5 border-l-4 border-yellow-500">
                        <div class="flex items-center">
                            <i class="fas fa-th structure-icon highlight-yellow"></i>
                            <div class="ml-4">
                                <h3 class="text-xl font-bold highlight-yellow">Array (数组)</h3>
                                <p class="text-sm opacity-80 mb-2">连续内存空间存储所有字符</p>
                                <div class="flex items-center text-sm">
                                    <span class="mr-2">性能:</span>
                                    <div class="performance-bar flex-grow">
                                        <div class="performance-fill bg-yellow-500" style="width: 50%"></div>
                                    </div>
                                    <span class="ml-2 text-yellow-400">中</span>
                                </div>
                                <p class="text-xs mt-2 opacity-70"><i class="fas fa-times-circle mr-1"></i>中间插入/删除需移动大量元素</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="data-structure p-5 border-l-4 border-green-500">
                        <div class="flex items-center">
                            <i class="fas fa-expand-arrows-alt structure-icon highlight-green"></i>
                            <div class="ml-4">
                                <h3 class="text-xl font-bold highlight-green">Gap Buffer (间隙缓冲区)</h3>
                                <p class="text-sm opacity-80 mb-2">数组中间保留一个"间隙"作为光标位置</p>
                                <div class="flex items-center text-sm">
                                    <span class="mr-2">性能:</span>
                                    <div class="performance-bar flex-grow">
                                        <div class="performance-fill bg-green-500" style="width: 85%"></div>
                                    </div>
                                    <span class="ml-2 text-green-400">高</span>
                                </div>
                                <p class="text-xs mt-2 opacity-70"><i class="fas fa-check-circle mr-1"></i>插入/删除效率高，内存利用率好</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Right Column: Recursive Sequence Data Structures -->
                <div class="flex flex-col space-y-6">
                    <h2 class="text-2xl font-bold mb-2 highlight-purple flex items-center">
                        <i class="fas fa-sitemap mr-3"></i>迭代序列数据结构
                        <span class="text-sm font-normal ml-3 opacity-70">Recursive Sequence Data Structures</span>
                    </h2>
                    
                    <div class="data-structure p-5 border-l-4 border-purple-500">
                        <div class="flex items-center">
                            <i class="fas fa-align-left structure-icon highlight-purple"></i>
                            <div class="ml-4">
                                <h3 class="text-xl font-bold highlight-purple">Line Spans (行跨度)</h3>
                                <p class="text-sm opacity-80 mb-2">每行独立存储，维护行地址记录</p>
                                <div class="flex items-center text-sm">
                                    <span class="mr-2">性能:</span>
                                    <div class="performance-bar flex-grow">
                                        <div class="performance-fill bg-purple-500" style="width: 65%"></div>
                                    </div>
                                    <span class="ml-2 text-purple-400">中高</span>
                                </div>
                                <p class="text-xs mt-2 opacity-70"><i class="fas fa-exclamation-circle mr-1"></i>较老的方法，现代编辑器已较少使用</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="data-structure p-5 border-l-4 border-blue-500">
                        <div class="flex items-center">
                            <i class="fas fa-puzzle-piece structure-icon highlight"></i>
                            <div class="ml-4">
                                <h3 class="text-xl font-bold highlight">Piece Tables (片段表)</h3>
                                <p class="text-sm opacity-80 mb-2">原始文本+修改文本，记录表描述当前序列</p>
                                <div class="flex items-center text-sm">
                                    <span class="mr-2">性能:</span>
                                    <div class="performance-bar flex-grow">
                                        <div class="performance-fill bg-blue-500" style="width: 95%"></div>
                                    </div>
                                    <span class="ml-2 text-blue-400">极高</span>
                                </div>
                                <p class="text-xs mt-2 opacity-70"><i class="fas fa-check-circle mr-1"></i>最推荐的数据结构，VS Code等使用</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="data-structure p-5 border-l-4 border-indigo-500">
                        <div class="flex items-center">
                            <i class="fas fa-cubes structure-icon text-indigo-400"></i>
                            <div class="ml-4">
                                <h3 class="text-xl font-bold text-indigo-400">Fixed Size Buffers (固定大小缓冲区)</h3>
                                <p class="text-sm opacity-80 mb-2">多个固定大小缓冲区存储数据</p>
                                <div class="flex items-center text-sm">
                                    <span class="mr-2">性能:</span>
                                    <div class="performance-bar flex-grow">
                                        <div class="performance-fill bg-indigo-500" style="width: 80%"></div>
                                    </div>
                                    <span class="ml-2 text-indigo-400">高</span>
                                </div>
                                <p class="text-xs mt-2 opacity-70"><i class="fas fa-check-circle mr-1"></i>单个缓冲区操作不影响其他缓冲区</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Code Example -->
            <div class="w-full mt-6">
                <div class="code-block">
                    <p class="text-xs opacity-70 mb-1">// Gap Buffer 实现示例</p>
                    <pre class="text-xs"><span class="highlight-green">class</span> <span class="highlight-yellow">GapBuffer</span> {
  <span class="highlight-purple">constructor</span>(size) {
    <span class="highlight">// 创建带有间隙的数组</span>
    <span class="highlight-green">this</span>.buffer = <span class="highlight-green">new</span> <span class="highlight-yellow">Array</span>(size);
    <span class="highlight-green">this</span>.gapStart = 0;
    <span class="highlight-green">this</span>.gapEnd = size;
    <span class="highlight-green">this</span>.size = 0;
  }
  
  <span class="highlight-green">insert</span>(text, pos) { <span class="highlight">// 在光标位置插入文本</span> }
  <span class="highlight-green">delete</span>(pos, length) { <span class="highlight">// 删除指定位置的文本</span> }
  <span class="highlight-green">moveGap</span>(pos) { <span class="highlight">// 移动间隙到光标位置</span> }
}</pre>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="p-4 flex justify-between items-center bg-opacity-20 bg-black">
            <div class="text-sm opacity-70">文本编辑器实现原理</div>
            <div class="text-sm opacity-70">第2页 / 共6页</div>
        </div>
    </div>
</body>
</html>